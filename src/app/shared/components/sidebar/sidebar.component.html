<aside class="sidebar" [class.collapsed]="isCollapsed">
  <nav class="sidebar-nav">
    <ul class="menu-list">
      @for (item of menuItems(); track item.label) {
        <li class="menu-item">
          @if (item.children) {
            <!-- Menu avec sous-menus -->
            <button class="menu-button" (click)="toggleSubmenu(item)">
              <i class="bi" [ngClass]="item.icon"></i>
              <span class="menu-label">{{ item.label }}</span>
              <i class="bi bi-chevron-down toggle-icon"
                 [class.expanded]="item.expanded"></i>
            </button>
            @if (item.expanded) {
              <ul class="submenu">
                @for (child of item.children; track child.label) {
                  <li class="submenu-item">
                    <a [routerLink]="child.route"
                       routerLinkActive="active"
                       class="submenu-link">
                      <i class="bi" [ngClass]="child.icon"></i>
                      <span class="menu-label">{{ child.label }}</span>
                    </a>
                  </li>
                }
              </ul>
            }
          } @else {
            <!-- Menu simple -->
            <a [routerLink]="item.route"
               routerLinkActive="active"
               class="menu-link">
              <i class="bi" [ngClass]="item.icon"></i>
              <span class="menu-label">{{ item.label }}</span>
            </a>
          }
        </li>
      }
    </ul>
  </nav>
</aside>


